<template>
  <el-menu
    :default-active="activeIndex"
    class="mb-5"
    mode="horizontal"
    @select="handleSelect"
    background-color="#545c64"
    text-color="#fff"
    active-text-color="#ffd04b"
  >
    <el-menu-item index="staff">
      <span>ğŸ‘¥ å€¼ç­äººå‘˜ç®¡ç†</span>
    </el-menu-item>
    <el-menu-item index="scheduler">
      <span>ğŸ“… ç­æ¬¡è°ƒåº¦ç®¡ç†</span>
    </el-menu-item>
    <el-menu-item index="weekly">
      <span>ğŸ“Š å‘¨ç¨‹å®‰æ’è¡¨</span>
    </el-menu-item>
  </el-menu>
</template>

<script setup lang="ts">
import { ref, watch } from 'vue';
import { useRouter, useRoute } from 'vue-router';

const router = useRouter();
const route = useRoute();
const activeIndex = ref('staff');

// Set active index based on current route
watch(
  () => route.name,
  (newRouteName) => {
    activeIndex.value = newRouteName as string;
  },
  { immediate: true }
);

const handleSelect = (key: string) => {
  if (key === 'staff') {
    router.push('/');
  } else if (key === 'scheduler') {
    router.push('/scheduler');
  } else if (key === 'weekly') {
    router.push('/weekly');
  }
};
</script>
